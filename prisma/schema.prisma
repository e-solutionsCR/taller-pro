generator client {
  provider      = "prisma-client-js"
  binaryTargets = ["native", "linux-musl-openssl-3.0.x"]
}

datasource db {
  provider = "mysql"
  url      = "mysql://mariadb:2Pgt1yHb4zxjjB2KMzhbtllZpnn6FD1ddNdE3VJ4KvvHamwtsYmhZqYPA9mdtLdl@s4c4s0kg00cscg0ks8k8go8o:3306/ticketsystem"
}

model Client {
  id        Int      @id @default(autoincrement())
  cedula    String   @unique
  nombre    String
  email     String?
  telefono  String?
  direccion String?
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
  tickets   Ticket[]
}

model Ticket {
  id              Int      @id @default(autoincrement())
  codigo          String   @unique
  descripcion     String
  tipoDispositivo String
  marcaModelo     String?
  numeroSerie     String?
  password        String?
  diagnostico     String?
  costo           Decimal?
  status          String   @default("RECIBIDO")
  clientId        Int
  createdAt       DateTime @default(now())
  updatedAt       DateTime @updatedAt
  client          Client   @relation(fields: [clientId], references: [id])

  @@index([clientId], map: "Ticket_clientId_fkey")
}
